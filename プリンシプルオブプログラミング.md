# 2. 原則
## 2.2 DRY
- コードを抽象化する
  コードのロジックを抽象化するには、処理のまとまりに名前をつけて「関数化」「モジュール化」する  

- DRYの適用範囲
  DRYはコードにとどまらず、ソフトウェア開発に関わる活動すべてに適用できる  

- やむを得ないDRY違反  
  ソフトウェア開発においては、ある程度やむを得ない重複も存在する  
  例えば、**インピーダンス・ミスマッチ**  
  これはもともと電気分野の用語で、素材感の抵抗（インビーダンス）が異なる（ミスマッチ）ため、反射が起きてエネルギーがうまく伝わらないことを意味します  
  これを比喩として、構造の異なる２つのものをつなげるときの「困難さ」を表現している  
  これをソフトウェアの最たる例がオブジェクト指向のクラスとリレーショナルデータベースのテーブルである  
  リレーショナルデータベース側に「テーブル定義」、コード側に「テーブルマッピング設定ファイル」「ソースファイル」と3箇所に同じ情報を持つことになる  

- One Fact in One Place (データベースにおけるDRY)  
  OFOPはデータベースに格納されるデータの重複を禁じている  
  OFOPを実現するためには「正規化」がデータベースにおける唯一無二の設計手法  

- レガシーコード  
  テストがないコードのことを「レガシーコード」という  
  したがって、レガシーコードと相対することになったら、まずテストを作成する  
  エレガントでなくてもいいので、まずテストを用意してから、修正を行う、品質を守る上でこの手順は必須である  

## 2.4 PIE  
Program Intently and Expressively (意図を表現してプログラミングせよ)  
- 文芸的プログラミング  
  文芸的プログラミングは「コードそのものをドキュメンテーションにする」という手法  
  この手法は、ドキュメントを記述するための言語がプログラミング言語と結びついている  
  ここでのドキュメントは何がプログラミングされているのかを明らかにするための「説明」である  
  しかし、同時にコンパイルされて「実行可能なソフトウェア」となる対象でもある  
  文芸的プログラミングは普及しなかった、理由はその特性上、他のプログラミング言語に比べ、コードを書く負荷が高かったから  

## 2.5 SLAP
Single Level of Abstraction Principle (抽象化レベルの統一)  
- コードのレベルを合わせる
  コードを書くとき、高いレベルの抽象化概念（高水準）と低いレベルの抽象化概念（低水準）を分離するようにする  

## 2.6 OCP
Open-Closed Principle (オープンクローズドの原則)  
- コードの変更は波及させない  
  コードは、「拡張に対して開いている」「修正に対して閉じている」という、2️⃣つの属性を同時に満たすように設計する  
  拡張に対して開いているとは、「コードの振る舞いを拡張できる」という意味である  
  修正に対して閉じているとは、「コードの振る舞いを拡張しても、その他のコードは全く影響を受けない」という意味である  
- どうすれば？
  コードにインターフェースを用いる  
- OCPの適用範囲  
  コードのような場所においても、OCPを適用するのはやりすぎである  
  変更が発生しなかったら、コードが複雑になるだけの単に無駄で冗長なコードとなってしまうからである、これではシンプルが保てない  
  OCPの適用のポイントは、変更の内容を予測するというより、**変化しそうな部分を予測することである**  
- OCPの実装と設計
  OCPの実装方法として代表的な技術は、オブジェクト指向の「ポリモーフィズム」である  
